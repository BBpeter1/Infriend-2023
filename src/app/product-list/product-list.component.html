<div class="row">
    <input type="text" [(ngModel)]="searchTerm" (input)="searchBooks()" placeholder="Search...">
    <ul>
        <li *ngFor="let book of filteredBooks">
            <span>{{ book.title }}</span> - <span>{{ book.Author }}</span>
        </li>
    </ul>
</div>

<table class="table table-striped">
	<thead>
		<tr>
            <th scope="col">ID</th>
			<th scope="col">Termék kelte</th>
			<th scope="col">Termék címe</th>
            <th scope="col">Termék létrehozója</th>
            <th scope="col">Termék leírása</th>
            <th scope="col">Termék kategóriája</th>
            <th scope="col">Szerkesztés</th>
            <th scope="col">Törlés</th>
		</tr>
	</thead>
	<tbody>
		<tr *ngFor="let book of books">
			<th scope="row">{{ book.id | number }}</th>
			<td>{{ book.date }}</td>
			<td>{{ book.title }}</td>
            <td>{{ book.Author }}</td>
            <td>{{ book.description }}</td>
            <td *ngIf="book.categories.length > 0">{{getCategoryList(book.categories)}}</td>
            <td *ngIf="authService.isLoggedIn()"><button class="btn btn-sm btn-outline-primary"
                (click)="navigateToProductForm(book.id)">Szerkesztés</button></td>
            <td *ngIf="authService.isLoggedIn()"><button class="btn btn-sm btn-outline-danger" (click)="deleteBook(book)">Törlés</button></td>
		</tr>
	</tbody>
</table>

<hr>
<div class="row">
    <h2>Available Books</h2>
    <ul>
        <li *ngFor="let book of availableBooks">
           <h5> {{ book.title }} by {{ book.Author }} </h5>
            <div class="row">
                <div class="col-md-1">
                    <button class="btn btn-sm btn-outline-primary" (click)="borrowBook(userId, book.id)">Borrow</button>
                </div>
                <div class="col-md-1    ">
                    <button class="btn btn-sm btn-outline-primary" (click)="returnBook(userId, book.id)">Return</button>
                </div>
            </div>
        </li>
    </ul>
</div>